---
// src/pages/en/index.astro
import BaseLayout from "../../layouts/BaseLayout.astro";
import ServiceCard from "../../components/ServiceCard.astro";
import PortfolioCard from "../../components/PortfolioCard.astro";
---

<BaseLayout
  title="Conversational AI Agent Developer | Custom Solutions"
  description="Conversational AI agent developer ‚Äî Intelligent solutions to automate your client and internal interactions"
  lang="en"
>
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">
          Conversational<br />
          <span class="gradient-text">AI Agents</span>
        </h1>
        <p class="hero-subtitle">
          Custom AI solutions tailored to your business challenges
        </p>
        <p class="hero-tagline">
          From documentation to conversation: your content becomes intelligent assistants
        </p>
        <div class="hero-cta">
          <a
            href="https://visionary-ai-agent.netlify.app/"
            class="btn btn-primary"
            target="_blank">Try the demo</a
          >
          <a href="/en/portfolio" class="btn btn-secondary">View my projects</a>
        </div>
      </div>

      <div class="chat-preview">
        <div class="chat-header">
          <div class="agent-avatar">ü§ñ</div>
          <div class="agent-info">
            <span class="agent-name">Visionary AI Assistant</span>
            <span class="agent-status">Online</span>
          </div>
        </div>
        <div class="chat-messages">
          <div class="message user-message">
            <div class="message-content">
              How do I authenticate my API requests?
            </div>
          </div>
          <div class="message agent-message">
            <div class="message-content">
              To authenticate your requests, use a Bearer token in the Authorization header.<br /><br />
              <code class="inline-code">Authorization: Bearer YOUR_TOKEN</code><br /><br />
              Need help generating your token?
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Preview -->
  <section class="services-preview">
    <div class="container">
      <h2 class="section-title">Core Expertise</h2>
      <div class="services-grid">
        <ServiceCard
          icon="api"
          title="Customer Experience"
          description="24/7 support, product recommendations, after-sales service, e-commerce - Agents that improve satisfaction and reduce costs."
          link="/en/services#customer"
          lang="en"
        />
        <ServiceCard
          icon="ghostwriting"
          title="Sales Performance"
          description="Lead qualification, client onboarding, product demos - Agents that convert and nurture."
          link="/en/services#business"
          lang="en"
        />
        <ServiceCard
          icon="maintenance"
          title="Internal Operations"
          description="HR, compliance, training, helpdesk - Agents that automate your business processes."
          link="/en/services#internal"
          lang="en"
        />
        <ServiceCard
          icon="audit"
          title="Technical Documentation"
          description="Developer assistance, troubleshooting, API queries - Agents that transform your docs into conversations."
          link="/en/services#technical"
          lang="en"
        />
      </div>
      <p class="services-note">
        Each agent is custom-built according to your specific business needs.
      </p>
    </div>
  </section>

  <!-- Portfolio Highlights -->
  <section class="portfolio-highlights">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Recent Projects</h2>
        <a href="/en/portfolio" class="section-link">View All Projects ‚Üí</a>
      </div>
      <PortfolioCard
        title="Visionary AI Agent"
        client="Conversational AI Assistant"
        description="Intelligent conversational agent for image analysis API. Demonstrates hybrid conversational approach with structured knowledge base."
        tags={["React", "TypeScript", "Gemini AI", "Netlify Functions"]}
        image="/portfolio/visionary-ai-agent.png"
        link="https://visionary-ai-agent.netlify.app/"
        category={["ai-agent"]}
      />
      <div class="portfolio-grid">
        <PortfolioCard
          title="Neolens ‚Äì API Documentation"
          client="Fictional medical imaging AI"
          description="Complete API documentation for intelligent medical image analysis, with interactive guides and developer onboarding."
          tags={["API Documentation", "Docusaurus", "Interactive Guides"]}
          image="/portfolio/neolens-api-docs.png"
          link="https://neolens-api-docs.netlify.app/"
          category={["api-docs"]}
        />
        <PortfolioCard
          title="Cognitia API Documentation on GitBook"
          client="Fictional Cognitia AI Platform"
          description="Professional API documentation platform built on GitBook with advanced search, team collaboration and interactive developer experience"
          tags={["GitBook", "Team Collaboration", "Enterprise Docs"]}
          image="/portfolio/cognitia-api-docs.png"
          link="https://cognitia-api-documentation.gitbook.io/bgallais"
          category={["api-docs"]}
        />
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Ready to automate<br />your business interactions?</h2>
        <p>
          Reduce costs, improve customer experience and free up your teams<br />
          with custom conversational AI agents.
        </p>
        <a href="/en/contact" class="btn btn-primary btn-large"
          >Discuss your project</a
        >
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* ===============================
   HERO
   =============================== */
  .hero {
    padding: 8rem 0 6rem;
    background: linear-gradient(
      135deg,
      rgb(var(--color-background)) 0%,
      rgb(var(--color-primary) / 0.05) 100%
    );
    position: relative;
    overflow: hidden;
  }
  .hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
        circle at 20% 80%,
        rgb(var(--color-primary) / 0.08) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        rgb(var(--color-accent) / 0.05) 0%,
        transparent 50%
      );
    pointer-events: none;
  }
  .hero .container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 5rem;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    position: relative;
    z-index: 1;
  }
  .hero-title {
    font-family: var(--font-serif);
    font-size: clamp(3rem, 6vw, 5rem);
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: 2rem;
    color: rgb(var(--color-text));
  }
  .gradient-text {
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary)),
      rgb(var(--color-secondary))
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
    padding-bottom: 0.1em;
  }
  .hero-subtitle {
    font-size: 1.25rem;
    line-height: 1.6;
    color: rgb(var(--color-text-muted));
    margin-bottom: 2rem;
    max-width: 90%;
  }
  .hero-tagline {
    font-size: 1rem;
    color: rgb(var(--color-text-muted));
    font-style: italic;
    margin-top: 0.5rem;
    margin-bottom: 2rem;
  }
  .hero-cta {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  /* ===============================
   CHAT PREVIEW (remplace code-preview)
   =============================== */
  .chat-preview {
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
    max-width: 600px;
  }

  :root[data-theme="light"] .chat-preview {
    background: #ffffff;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  :root[data-theme="dark"] .chat-preview {
    background: rgb(var(--color-surface));
    border: 1px solid rgb(var(--color-border) / 0.3);
  }

  /* Chat Header */
  .chat-header {
    display: flex;
    align-items: center;
    padding: 1.25rem 1.5rem;
    gap: 1rem;
    border-bottom: 1px solid rgb(var(--color-border) / 0.2);
  }

  :root[data-theme="light"] .chat-header {
    background: #f8f9fa;
    border-bottom-color: rgba(0, 0, 0, 0.08);
  }

  :root[data-theme="dark"] .chat-header {
    background: rgb(var(--color-surface-variant) / 0.3);
  }

  .agent-avatar {
    font-size: 2rem;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary)),
      rgb(var(--color-secondary))
    );
  }

  .agent-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .agent-name {
    font-weight: 600;
    font-size: 1rem;
    color: rgb(var(--color-text));
  }

  .agent-status {
    font-size: 0.875rem;
    color: rgb(var(--color-text-muted));
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .agent-status::before {
    content: "‚óè";
    color: #10b981;
    font-size: 0.75rem;
  }

  /* Chat Messages */
  .chat-messages {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    min-height: 280px;
  }

  :root[data-theme="light"] .chat-messages {
    background: #ffffff;
  }

  :root[data-theme="dark"] .chat-messages {
    background: rgb(var(--color-surface-variant) / 0.1);
  }

  .message {
    display: flex;
    max-width: 85%;
    animation: slideIn 0.3s ease;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .user-message {
    align-self: flex-end;
  }

  .agent-message {
    align-self: flex-start;
  }

  .message-content {
    padding: 1rem 1.25rem;
    border-radius: 1rem;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  :root[data-theme="light"] .user-message .message-content {
    background: rgb(var(--color-primary));
    color: white;
    border-bottom-right-radius: 0.25rem;
  }

  :root[data-theme="dark"] .user-message .message-content {
    background: rgb(var(--color-primary) / 0.9);
    color: white;
    border-bottom-right-radius: 0.25rem;
  }

  :root[data-theme="light"] .agent-message .message-content {
    background: #f1f3f5;
    color: #212529;
    border-bottom-left-radius: 0.25rem;
  }

  :root[data-theme="dark"] .agent-message .message-content {
    background: rgb(var(--color-surface-variant) / 0.8);
    color: rgb(var(--color-text));
    border-bottom-left-radius: 0.25rem;
    border: 1px solid rgb(var(--color-border) / 0.7);
  }

  .inline-code {
    background: rgba(0, 0, 0, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: var(--font-mono);
    font-size: 0.875rem;
  }

  :root[data-theme="dark"] .inline-code {
    background: rgba(255, 255, 255, 0.1);
  }

  /* Responsive */
  @media (max-width: 900px) {
    .chat-preview {
      max-width: 720px;
      margin: 0 auto;
    }
  }

  @media (max-width: 768px) {
    .chat-preview {
      width: 100%;
      max-width: none;
    }

    .message {
      max-width: 90%;
    }
  }

  /* Tagline hero */
  .hero-tagline {
    font-size: 1rem;
    color: rgb(var(--color-text-muted));
    font-style: italic;
    margin-top: 0.5rem;
    margin-bottom: 2rem;
  }

  /* ===============================
   SERVICES 2x2 
   =============================== */
  .services-preview {
    padding: 8rem 0;
    background: rgb(var(--color-surface) / 0.3);
  }
  .section-title {
    font-family: var(--font-serif);
    font-size: 2.5rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 3rem;
    color: rgb(var(--color-text));
  }

  /* Grille 2x2 pour 4 services */
  .services-grid {
    display: grid;
    gap: 2rem;
    margin-top: 3rem;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  /* Sur mobile : 1 colonne */
  @media (max-width: 768px) {
    .services-grid {
      grid-template-columns: 1fr;
    }
  }

  .services-note {
    text-align: center;
    margin-top: 2rem;
    color: rgb(var(--color-text-muted));
    font-size: 0.95rem;
    font-style: italic;
  }

  /* ===============================
   PORTFOLIO
   =============================== */
  .portfolio-highlights {
    padding: 8rem 0;
    background: rgb(var(--color-surface-variant) / 0.5);
  }
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4rem;
  }
  .section-header h2 {
    font-family: var(--font-serif);
    font-size: 2.5rem;
    font-weight: 600;
    color: rgb(var(--color-text));
    margin: 0;
  }
  .portfolio-highlights .section-header {
    display: flex;
    justify-content: center; 
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    text-align: center;
  }

  .portfolio-highlights .section-header h2 {
    flex: 0 0 100%; 
    text-align: center;
    margin-bottom: 1rem;
  }

  .portfolio-highlights .section-header .section-link {
    text-align: center;
  }
  .section-link {
    color: rgb(var(--color-primary));
    text-decoration: none;
    font-weight: 500;
    transition: opacity 0.2s ease;
  }
  .section-link:hover {
    opacity: 0.8;
  }
  .portfolio-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .portfolio-grid .portfolio-card {
    max-height: 450px;
  }

  .portfolio-grid .portfolio-card img {
    max-height: 250px;
    object-fit: cover;
  }

  /* ===============================
   CTA SECTION
   =============================== */
  .cta-section {
    padding: 8rem 0;
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary) / 0.08) 0%,
      rgb(var(--color-accent) / 0.05) 100%
    );
    position: relative;
    overflow: hidden;
  }
  .cta-section::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 30% 70%,
      rgb(var(--color-primary) / 0.1) 0%,
      transparent 50%
    );
    pointer-events: none;
  }
  .cta-content {
    text-align: center;
    max-width: 700px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }
  .cta-content h2 {
    font-family: var(--font-serif);
    font-size: 3rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: rgb(var(--color-text));
  }
  .cta-content p {
    font-size: 1.125rem;
    color: rgb(var(--color-text-muted));
    margin-bottom: 2rem;
  }

  /* ===============================
   RESPONSIVE GLOBAL
   =============================== */
  @media (max-width: 768px) {
    .hero .container {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }
    .hero-cta {
      justify-content: center;
    }
    .cta-content h2 {
      font-size: 2rem;
    }
  }

  /* ===============================
   TABLET & TOUCH ENHANCEMENTS
   =============================== */

  /* Container responsive padding (utile pour les sections hors .hero) */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  @media (max-width: 1024px) {
    .container {
      padding: 0 1.5rem;
    }
  }
  @media (max-width: 600px) {
    .container {
      padding: 0 1rem;
    }
  }

  /* Hero ‚Äì garder 2 colonnes sur tablette mais r√©duire les espacements/tailles */
  @media (max-width: 1200px) {
    .hero {
      padding: 6rem 0 5rem;
    }
  }
  @media (max-width: 1024px) {
    .hero .container {
      grid-template-columns: 1.1fr 0.9fr; 
      gap: 3rem;
    }
    .hero-title {
      font-size: clamp(2.5rem, 5vw, 3.5rem);
    }
    .hero-subtitle {
      font-size: 1.1rem;
      max-width: 100%;
    }
    .code-header,
    .code-block {
      padding: 1rem 1.25rem;
    }
  }
  /* Passage √† 1 colonne sous ~900 px (grandes tablettes en portrait) */
  @media (max-width: 900px) {
    .hero .container {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }
    .hero-cta {
      justify-content: center;
    }
    .code-preview {
      max-width: 720px;
      margin: 0 auto;
    }
  }

  /* Services ‚Äì 2 colonnes sur tablette, 1 sur mobile (d√©j√† g√©r√©), on optimise les espacements */
  @media (max-width: 1024px) {
    .services-preview {
      padding: 6rem 0;
    }
    .services-grid {
      gap: 1.5rem;
    }
  }
  @media (max-width: 768px) {
    .services-preview {
      padding: 5rem 0;
    }
  }

  /* Section header ‚Äì √©viter la collision du lien sur petits √©crans/tablettes √©troites */
  @media (max-width: 820px) {
    .section-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.75rem;
    }
  }

  /* Portfolio ‚Äì assouplir le min des cartes pour tenir en 2 colonnes sur tablette */
  @media (max-width: 1024px) {
    .portfolio-grid {
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }
  }
  @media (max-width: 640px) {
    .portfolio-grid {
      grid-template-columns: 1fr; 
    }
  }

  /* CTA ‚Äì r√©duire la hauteur sur tablette et lisser la typo */
  @media (max-width: 1024px) {
    .cta-section {
      padding: 6rem 0;
    }
    .cta-content h2 {
      font-size: 2.4rem;
    }
    .cta-content p {
      font-size: 1.05rem;
    }
  }
  @media (max-width: 768px) {
    .cta-section {
      padding: 4.5rem 0;
    }
    .cta-content h2 {
      font-size: 2rem;
    }
  }

  /* Touch targets & petits ajustements pour √©crans tactiles */
  @media (hover: none) and (pointer: coarse) {
    .btn {
      min-height: 44px;
      padding: 0.9rem 1.1rem;
    }
    .hero-cta {
      gap: 0.75rem;
    }
    .code-block::-webkit-scrollbar {
      height: 12px;
    }
  }

  /* Bonus : limiter les tr√®s grands paddings des sections sur tablettes */
  @media (max-width: 1024px) {
    .portfolio-highlights {
      padding: 6rem 0;
    }
  }

  /* ======== Code block √† gauche en mobile ======== */
  @media (max-width: 900px) {
    .hero .container {
      text-align: initial;
    }
    .hero-content {
      text-align: center;
    }

    .code-preview {
      justify-self: start; 
      margin: 0; 
    }
  }

  @media (max-width: 768px) {
    .code-preview {
      width: 100%;
      max-width: none; 
      text-align: left;
    }
    .code-header,
    .code-block {
      text-align: left;
    }
  }

  @media (max-width: 768px) {
    .hero-cta .btn,
    .cta-section .btn {
      display: inline-flex !important;
      width: auto !important;
      max-width: 100%;
      flex: 0 0 auto; 
      align-self: center; 
    }

    .hero-cta {
      justify-content: center;
      gap: 0.75rem;
    }
  }
</style>
