---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Contact ‚Äî B√©rang√®re Gallais"
  description=""
>
  <section class="contact-hero">
    <div class="container">
      <h1 class="title">Contact</h1>
      <p class="lead">
        Vous avez un projet de documentation ou de contenu ghostwrit√© ?<br />
        Choisissez le moyen de contact qui vous convient le mieux.
      </p>
    </div>
  </section>

  <section class="contact-info">
    <div class="container">
      <h2>Discutons de votre projet</h2>
      <div class="contact-methods">
        <div class="contact-method">
          <div class="contact-icon">‚úâÔ∏è</div>
          <div class="contact-details">
            <strong>Email</strong>
            <a href="mailto:contact@berangeregallais.com">
              contact@berangeregallais.com
            </a>
          </div>
        </div>

        <div class="contact-method">
          <div class="contact-icon">üìÖ</div>
          <div class="contact-details">
            <strong>Call d√©couverte</strong>
            <div id="google-calendar-button" class="google-calendar-wrapper">
              <!-- Le bouton Google Calendar sera inject√© ici -->
            </div>
          </div>
        </div>

        <div class="contact-method">
          <div class="contact-icon">üíº</div>
          <div class="contact-details">
            <strong>LinkedIn</strong>
            <a
              href="https://www.linkedin.com/in/berangeregallais"
              target="_blank"
              rel="noopener"
            >
              Voir mon profil
            </a>
          </div>
        </div>

        <div class="contact-method">
          <div class="contact-icon">üì±</div>
          <div class="contact-details">
            <strong>R√©ponse</strong>
            <span>Sous 24h en semaine</span>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<!-- Google Calendar Appointment Scheduling -->
<link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
<script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
<script>
(function() {
  window.addEventListener('load', function() {
    const target = document.getElementById('google-calendar-button');
    const googleCalendar = (window as any)['calendar'];
    if (target && googleCalendar && googleCalendar.schedulingButton) {
      googleCalendar.schedulingButton.load({
        url: 'https://calendar.google.com/calendar/appointments/schedules/AcZssZ3BhtGuapsUUSewuJZ3Vpo5ay4B8cZ4Nzy1ZjOBIsNJMr1RTW2zKE_w0fuLFYgfA_Hke7AJjoAZ?gv=true',
        color: '#e6b7d4',
        label: 'R√©server un appel (30 min)',
        target,
      });
    }
  });
})();
</script>

<style>
  /* ========== HERO ========== */
  .contact-hero {
    padding: 4.5rem 0 2.25rem; /* + spacing top/bottom */
    text-align: center;
  }
  .title {
    font-size: 2.125rem;
    line-height: 1.2;
    margin: 0 0 2.25rem; /* spacing below title */
  }
  .lead {
    font-size: 1.125rem;
    color: rgb(var(--color-text));
    line-height: 1.7; /* more readable */
    margin: 0;
  }

  /* ========== CONTACT SECTION ========== */
  .contact-info {
    padding: 2.5rem 0 3.5rem; /* global spacing */
    text-align: center;
  }
  .contact-info h2 {
    margin: 0 0 2rem;
    font-size: 1.6rem;
    font-weight: 600;
    color: rgb(var(--color-text));
  }
  .contact-info p {
    margin: 0.35rem 0;
  }

  /* Grid more spacious */
  .contact-methods {
    display: grid;
    gap: 2.25rem; /* vertical/horizontal spacing */
    margin-top: 2.25rem;
  }
  @media (min-width: 768px) {
    .contact-methods {
      grid-template-columns: repeat(2, 1fr);
      gap: 2.5rem; /* more air on desktop */
    }
  }

  /* Contact cards */
  .contact-method {
    display: flex;
    align-items: center;
    gap: 1.125rem;
    padding: 1.5rem; /* generous padding */
    background: rgb(var(--color-surface) / 1);
    border: 1px solid rgb(var(--color-border) / 0.4);
    border-radius: var(--radius-lg);
    transition:
      transform var(--transition-fast),
      box-shadow var(--transition-fast),
      border-color var(--transition-fast);
  }
  .contact-method:hover {
    transform: translateY(-3px);
    box-shadow: 0 14px 28px rgb(var(--color-shadow) / 0.12);
    border-color: rgb(var(--color-primary) / 0.35);
  }

  /* Icon */
  .contact-icon {
    font-size: 1.85rem;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary) / 0.9),
      rgb(var(--color-secondary) / 0.9)
    );
    color: #fff;
    border-radius: 50%;
    flex-shrink: 0;
  }

  /* Details */
  .contact-details {
    flex: 1;
    text-align: left;
  }
  .contact-details strong {
    display: block;
    margin: 0 0 0.5rem; /* spacing under label */
    color: rgb(var(--color-text));
    font-size: 1rem;
    font-weight: 700;
    line-height: 1.3;
  }
  .contact-details a,
  .contact-details span {
    font-size: 1rem;
    line-height: 1.6;
    color: rgb(var(--color-text-muted));
  }

  /* Links */
  .contact-details a {
    color: rgb(var(--color-primary));
    text-decoration: none;
    font-weight: 500;
    transition:
      opacity var(--transition-fast),
      color var(--transition-fast);
  }
  .contact-details a:hover {
    opacity: 0.9;
    color: rgb(var(--color-primary));
  }

  /* Google Calendar Button Styling */
  .google-calendar-wrapper {
    margin-top: 0.25rem;
  }

  /* Style pour le bouton Google Calendar */
  .google-calendar-wrapper :global(button) {
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary)),
      rgb(var(--color-secondary))
    ) !important;
    border: none !important;
    border-radius: 6px !important;
    padding: 8px 16px !important;
    font-weight: 600 !important;
    font-size: 1rem !important;
    color: white !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
  }

  .google-calendar-wrapper :global(button:hover) {
    opacity: 0.9 !important;
    transform: translateY(-1px) !important;
  }

  /* Fallback pour navigateurs qui ne supportent pas :global */
  :global(.calendar-scheduling-button) {
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary)),
      rgb(var(--color-secondary))
    ) !important;
    border: none !important;
    border-radius: 6px !important;
    padding: 8px 16px !important;
    font-weight: 600 !important;
    font-size: 1rem !important;
    color: white !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
  }

  :global(.calendar-scheduling-button:hover) {
    opacity: 0.9 !important;
    transform: translateY(-1px) !important;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .title {
      font-size: 1.9rem;
      margin-bottom: 2rem;
    }
    .contact-method {
      padding: 1.25rem; /* slightly lighter on mobile */
    }
    .contact-icon {
      width: 56px;
      height: 56px;
      font-size: 1.7rem;
    }
  }

  /* Dark mode tweaks */
  :root[data-theme="dark"] .contact-method {
    background: rgb(var(--color-surface) / 0.75);
    border-color: rgb(var(--color-border) / 0.25);
  }
  :root[data-theme="dark"] .contact-details a,
  :root[data-theme="dark"] .contact-details span {
    color: rgb(var(--color-text)); /* more contrast */
  }

  /* Fix mobile: no cards stuck to the right */
  @media (max-width: 768px) {
    .contact-info .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    .contact-methods {
      grid-template-columns: 1fr;
      justify-items: stretch;
    }
    .contact-method {
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }
  }

  /* Robust links */
  .contact-details a {
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Pink links in dark mode */
  :root[data-theme="dark"] a,
  :root[data-theme="dark"] .contact-details a {
    color: #e6b7d4;
  }
  :root[data-theme="dark"] a:hover,
  :root[data-theme="dark"] .contact-details a:hover {
    opacity: 0.85;
  }
</style>